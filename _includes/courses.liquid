{% if site.teachings %}
  <div class="courses">
    {% assign courses_by_year = site.teachings | sort: 'year' | reverse | group_by: 'year' %}

    {% for year_group in courses_by_year %}
      <h2 class="year mt-4 mb-3">{{ year_group.name }}</h2>
      
      <div class="row">
        {% assign year_courses = year_group.items | sort: 'term' %}
        {% for course in year_courses %}
          <div class="col-12 mb-3">
            <div class="card h-100 hover-shadow border-0" style="background-color: var(--global-card-bg-color); box-shadow: 0 4px 15px rgba(0,0,0,0.05);">
              <div class="card-body">
                
                <h3 class="card-title mb-3">
                  <a href="{{ course.url | relative_url }}" class="text-decoration-none border-0 shadow-none" style="color: inherit !important;">
                    {{ course.title }}
                  </a>
                </h3>

                <div class="course-meta">
                  <div class="d-flex flex-wrap align-items-center">
                    <span class="course-tag-base tag-instructor"><i class="fas fa-user-circle"></i>{{ course.instructor }}</span>
                    {% if course.course_id %}<span class="course-tag-base tag-id"><i class="fas fa-fingerprint"></i>{{ course.course_id }}</span>{% endif %}
                    {% if course.course_level %}<span class="course-tag-base tag-level"><i class="fas fa-layer-group"></i>{{ course.course_level }}</span>{% endif %}
                    {% if course.term %}<span class="course-tag-base tag-term"><i class="fas fa-calendar-alt"></i>{{ course.term }}</span>{% endif %}
                    {% if course.location %}<span class="course-tag-base tag-location"><i class="fas fa-map-marker-alt"></i>{{ course.location }}</span>{% endif %}
                  </div>
                </div>

                {% if course.description %}
                  <div class="course-description mt-3 text-muted" style="font-size: 0.9rem; opacity: 0.8;">
                    {{ course.description | markdownify | remove: '<p>' | remove: '</p>' }}
                  </div>
                {% endif %}

              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    {% endfor %}
  </div>
{% else %}
  <p>No courses available yet.</p>
{% endif %}
