/*******************************************************************************
 * Typography styles: Headings, text, links, tables, blockquotes
 * DAWN Lab 最终完整版 (修复标题大小、字体与颜色)
 ******************************************************************************/

@use "variables" as v;

/* ==========================================================================
   1. 核心正文排版 (System Font Stack)
   ========================================================================== */
body, p, li, span, div, em, strong {
  /* 使用系统原生字体栈 (Mac: 苹方/SF, Win: 微软雅黑/Segoe) */
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "PingFang SC", "Microsoft YaHei", Arial, sans-serif !important;
  
  /* 排版细节 */
  line-height: 1.8 !important;       /* 舒适的行间距 */
  letter-spacing: -0.015em !important; 
  color: var(--global-text-color);
}

/* ==========================================================================
   2. 全局标题体系 (默认使用 ZCOOL 小薇体)
   ========================================================================== */
h1, h2, h3, h4, h6, .navbar-brand, .site-title {
  font-family: "ZCOOL XiaoWei", "Noto Sans SC", serif !important;
  font-weight: 400 !important;
  color: var(--global-text-color);
  line-height: 1.3 !important;
  letter-spacing: -0.025em !important;
}

/* ⚠️ 特殊修复：Teaching 页面课程标题使用正文字体 */
/* 通常课程标题是 h5 或 .card-title，这里强制覆盖回系统字体 */
h5, .card-title, .teaching-title {
  font-family: -apple-system, BlinkMacSystemFont, "Microsoft YaHei", sans-serif !important; 
  font-weight: 700 !important;       /* 加粗以示区分 */
  color: var(--global-theme-color) !important; /* 使用主题色 */
}

/* 链接样式 */
a, table.table a {
  color: var(--global-theme-color);
  transition: color 0.2s ease;
  &:hover {
    color: var(--global-hover-color);
    text-decoration: underline;
  }
}

/* ==========================================================================
   3. 内部页面大标题美化 (✅ 找回丢失的部分)
   ========================================================================== */
/* 针对所有页面的主标题容器 (Header Title) */
header .post-title, 
.post-title {
  font-family: "ZCOOL XiaoWei", "Noto Sans SC", serif !important;
  margin-top: 2rem !important;
  margin-bottom: 2rem !important;
  display: block;
}

/* 3.1 标题中的中文：加大、加粗、主题色 */
header .post-title .nav-cn,
.post-title .nav-cn {
  font-size: 3.2rem !important;      /* 霸气大字号 */
  font-weight: 700 !important;
  color: var(--global-theme-color) !important; /* 强制普鲁士蓝/粉色 */
  display: inline-block;
  margin-right: 20px;
}

/* 3.2 标题中的英文：变小、全大写、灰色 */
header .post-title .nav-en,
.post-title .nav-en {
  font-size: 1.4rem !important;
  color: #999 !important;            /* 灰色点缀 */
  font-weight: 300 !important;
  letter-spacing: 3px !important;
  text-transform: uppercase;
  vertical-align: bottom;            /* 底部对齐汉字 */
}

/* ==========================================================================
   4. 双语导航栏美化 (Navbar)
   ========================================================================== */
.navbar-nav .nav-item .nav-link {
  display: flex !important;
  flex-direction: column;
  align-items: center;
  line-height: 1.2 !important;
}

.navbar-nav .nav-cn {
  font-family: "PingFang SC", "Microsoft YaHei", sans-serif !important;
  font-size: 1.1rem;
  font-weight: 700;
  display: block;
}

.navbar-nav .nav-en {
  font-family: -apple-system, sans-serif !important;
  font-size: 0.65rem;
  text-transform: uppercase;
  font-weight: 600;
  opacity: 0.7;
  letter-spacing: 1px;
  margin-top: -2px;
}

/* ==========================================================================
   5. 社交图标大小与对齐
   ========================================================================== */
.social .contact-icons {
  font-size: 1.8rem !important;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 1.2rem;
  margin-top: 2rem;
}

.social .contact-icons .ai { vertical-align: middle !important; }

.social .contact-icons .icon img, 
.social .contact-icons a img {
  width: 32px !important;
  height: 32px !important;
  margin: 0 !important;
  border-radius: 4px;
  box-shadow: none !important;
  vertical-align: middle;
  filter: none !important;
}

.social .contact-icons a:hover {
  transform: scale(1.15);
  transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  color: var(--global-theme-color) !important;
}

/* 引用块样式 */
blockquote {
  background: var(--global-bg-color);
  border-left: 5px solid var(--global-theme-color);
  margin: 1.5em 0;
  padding: 1em;
  font-size: 1.1rem;
  border-radius: 8px;
  p { margin-bottom: 0; }
}

/* =======================================================
   6. PEOPLE PAGE STYLES (成员页面强力修复)
   ======================================================= */
/* 限制容器宽度，防止图片撑满屏幕 */
.profiles .profile {
  width: 25% !important;
  min-width: 150px !important;
  max-width: 220px !important;
}

/* 强制图片填满容器并保持比例 */
.profiles .profile img, 
.profiles .profile .img-fluid,
.profiles .profile figure {
  width: 100% !important;
  height: auto !important;
  max-width: 100% !important;
  border-radius: 8px !important;
  margin-bottom: 10px !important;
}

/* 头像下方文字 */
.profiles .profile .more-info {
  font-size: 0.85rem !important;
  line-height: 1.5 !important;
  color: #666 !important;
  text-align: left !important;
}

/* 移动端适配 */
@media (max-width: 576px) {
  .profiles .profile {
    width: 60% !important;
    float: none !important;
    margin: 0 auto 20px auto !important;
  }
}
