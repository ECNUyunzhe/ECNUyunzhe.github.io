/*******************************************************************************
 * Typography styles: Headings, text, links, tables, blockquotes
 * DAWN Lab Final V3: 破晓全能版
 * (含 Teaching 修复、Tab 标题自适应、成员头像锁定)
 ******************************************************************************/

@use "variables" as v;

/* ==========================================================================
   1. 核心正文排版 (System Font Stack)
   ========================================================================== */
body, p, li, span, div, em, strong {
  /* 使用系统原生字体栈 (Mac: 苹方/SF, Win: 微软雅黑/Segoe) */
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "PingFang SC", "Microsoft YaHei", Arial, sans-serif !important;
  
  /* 排版细节：增加行距提升阅读体验 */
  line-height: 1.8 !important;       
  letter-spacing: -0.015em !important; 
  color: var(--global-text-color);
}

/* ==========================================================================
   2. 全局标题体系 (H1-H6 默认小薇体)
   ========================================================================== */
h1, h2, h3, h4, h6, .navbar-brand, .site-title {
  /* 默认让标题都带点“书法感” */
  font-family: "ZCOOL XiaoWei", "Noto Sans SC", serif !important;
  font-weight: 400 !important;
  color: var(--global-text-color);
  line-height: 1.3 !important;
  letter-spacing: -0.025em !important;
}

/* ⚠️ 核心修复：Teaching 页面课程标题使用正文字体 (不要艺术体) */
/* 涵盖 h5 (通常用于课程名), .card-title, 以及可能的教学标题类 */
h5, .card-title, .teaching-title {
  font-family: -apple-system, BlinkMacSystemFont, "Microsoft YaHei", sans-serif !important; 
  font-weight: 700 !important;       /* 加粗，显正式 */
  color: var(--global-theme-color) !important; /* 颜色跟随主题(蓝/粉) */
}

/* 链接样式 */
a, table.table a {
  color: var(--global-theme-color);
  transition: color 0.2s ease;
  &:hover {
    color: var(--global-hover-color);
    text-decoration: underline;
  }
}

/* ==========================================================================
   3. 页面大标题美化 (Tab 页点开后的 Title)
   ========================================================================== */
/* 针对所有页面的主标题容器 */
header .post-title, 
.post-title {
  margin-top: 2rem !important;
  margin-bottom: 2rem !important;
  display: block;
}

/* 3.1 标题中的中文 (如“破晓”、“成果”)：【标准黑体 + 主题色】 */
/* 这里的颜色会自动变成 普鲁士蓝(Light) 或 樱花粉(Dark) */
header .post-title .nav-cn,
.post-title .nav-cn {
  font-family: "PingFang SC", "Microsoft YaHei", sans-serif !important; 
  font-size: 3.2rem !important;      
  font-weight: 700 !important;       
  color: var(--global-theme-color) !important; 
  display: inline-block;
  margin-right: 20px;
}

/* 3.2 标题中的英文 (如“PUBLICATIONS”)：【小薇体 + 主题色】 */
header .post-title .nav-en,
.post-title .nav-en {
  font-family: "ZCOOL XiaoWei", serif !important; 
  font-size: 2.2rem !important;      
  font-weight: 400 !important;
  color: var(--global-theme-color) !important; 
  letter-spacing: 1px !important;
  text-transform: uppercase;         
  vertical-align: middle;            
}


/* ==========================================================================
   4. 双语导航栏美化 (Navbar Menu)
   ========================================================================== */
/* 导航栏容器 */
.navbar-nav .nav-item .nav-link {
  display: flex !important;
  flex-direction: column;
  align-items: center;
  line-height: 1.2 !important;
}

/* 导航栏中文 */
.navbar-nav .nav-cn {
  font-family: "PingFang SC", "Microsoft YaHei", sans-serif !important;
  font-size: 1.1rem;
  font-weight: 700;
  display: block;
}

/* 导航栏英文 */
.navbar-nav .nav-en {
  font-family: -apple-system, sans-serif !important;
  font-size: 0.65rem;
  text-transform: uppercase;
  font-weight: 600;
  opacity: 0.7;
  letter-spacing: 1px;
  margin-top: -2px;
}

/* ==========================================================================
   5. 社交图标大小与对齐
   ========================================================================== */
.social .contact-icons {
  font-size: 1.8rem !important;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 1.2rem;
  margin-top: 2rem;
}

/* 修正学术图标(ORCID等)的垂直对齐 */
.social .contact-icons .ai { vertical-align: middle !important; }

/* 修正图片图标(微信/自定义)的大小和颜色 */
.social .contact-icons .icon img, 
.social .contact-icons a img {
  width: 32px !important;
  height: 32px !important;
  margin: 0 !important;
  border-radius: 4px;
  box-shadow: none !important;
  vertical-align: middle;
  filter: none !important; /* 防止深色模式下二维码变色 */
}

/* 悬停动效 */
.social .contact-icons a:hover {
  transform: scale(1.15);
  transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  color: var(--global-theme-color) !important;
}

/* 引用块样式 */
blockquote {
  background: var(--global-bg-color);
  border-left: 5px solid var(--global-theme-color);
  margin: 1.5em 0;
  padding: 1em;
  font-size: 1.1rem;
  border-radius: 8px;
  p { margin-bottom: 0; }
}

/* =======================================================
   6. PEOPLE PAGE STYLES (成员页面强力修复)
   ======================================================= */
/* 1. 限制容器宽度，防止图片撑满屏幕 */
.profiles .profile {
  width: 25% !important;        /* 限制为页面宽度的 1/4 */
  min-width: 150px !important;
  max-width: 220px !important;  /* 最大不超过 220px */
}

/* 2. 强制图片填满这个被限制的容器 */
.profiles .profile img, 
.profiles .profile .img-fluid,
.profiles .profile figure {
  width: 100% !important;
  height: auto !important;
  max-width: 100% !important;
  border-radius: 8px !important;
  margin-bottom: 10px !important;
}

/* 3. 头像下方文字 */
.profiles .profile .more-info {
  font-size: 0.85rem !important;
  line-height: 1.5 !important;
  color: #666 !important;
  text-align: left !important;
}

/* 4. 移动端适配 */
@media (max-width: 576px) {
  .profiles .profile {
    width: 60% !important;
    float: none !important;
    margin: 0 auto 20px auto !important;
  }
}
/* =======================================================
   COURSE PAGE TITLE (课程页面标题修复)
   ======================================================= */
.course-title {
  /* 强制使用系统正文字体 (黑体/微软雅黑) */
  font-family: "PingFang SC", "Microsoft YaHei", -apple-system, sans-serif !important;
  
  /* 设置为粗体，更显正式 */
  font-weight: 700 !important;
  
  /* 颜色跟随主题色 (蓝/粉自适应) */
  color: var(--global-theme-color) !important;
  
  /* 字号控制：比首页那种 3.2rem 的大标题稍微小一点，适合课程长标题 */
  font-size: 2.4rem !important; 
  line-height: 1.3 !important;
}
