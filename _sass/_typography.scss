/*******************************************************************************
 * Typography styles: Headings, text, links, tables, blockquotes
 * DAWN Lab Final V14: ç»ˆæé›†æˆç‰ˆ (å…¨æ ‡ç­¾ + åŒè¯­æ ‡é¢˜ + è¯­è¨€åˆ‡æ¢å¼€å…³)
 ******************************************************************************/

@use "variables" as v;

/* ==========================================================================
   0. æ ¸å¿ƒå®šä¹‰ï¼šCSS å˜é‡ç³»ç»Ÿ
   ========================================================================== */
:root {
  /* â˜€ï¸ Light Mode é»˜è®¤æ¸å˜ */
  --dawn-gradient: linear-gradient(45deg, #003153 0%, #4FACFE 100%);
  
  /* è¯¾ç¨‹å‰¯æ ‡é¢˜é¢œè‰² (æ·±ç°) */
  --course-sub-color: rgba(0, 49, 83, 0.7);
}

/* ğŸŒ™ Dark Mode å˜é‡é‡å†™ */
body.dark, body.dark-mode, html[data-theme="dark"] {
  --dawn-gradient: linear-gradient(45deg, #FF3377 0%, #FFFFFF 100%);
  --course-sub-color: rgba(255, 255, 255, 0.7);
}

/* ==========================================================================
   1. æ ¸å¿ƒæ­£æ–‡æ’ç‰ˆ
   ========================================================================== */
body, p, li, span, div, em, strong {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "PingFang SC", "Microsoft YaHei", Arial, sans-serif !important;
  line-height: 1.8 !important;       
  letter-spacing: -0.015em !important; 
  color: var(--global-text-color);
}

/* ==========================================================================
   2. å…¨å±€æ ‡é¢˜ä½“ç³»
   ========================================================================== */
h1, h2, h3, h4, h6, .navbar-brand, .site-title {
  font-family: "ZCOOL XiaoWei", "Noto Sans SC", serif !important;
  font-weight: 400 !important;
  color: var(--global-text-color);
  line-height: 1.3 !important;
  letter-spacing: -0.025em !important;
}

h5, .card-title {
  font-family: -apple-system, BlinkMacSystemFont, "Microsoft YaHei", sans-serif !important; 
  font-weight: 700 !important;       
  font-size: 1.5rem !important;
  color: var(--global-theme-color); 
}

/* ==========================================================================
   3. é¡µé¢å¤§æ ‡é¢˜ç¾åŒ– (åº”ç”¨å˜é‡)
   ========================================================================== */
header .post-title, .post-title { margin-top: 2rem !important; margin-bottom: 2rem !important; display: block; }

/* 3.1 æ ‡é¢˜ä¸­çš„ä¸­æ–‡ (åº”ç”¨ --dawn-gradient å˜é‡) */
header .post-title .nav-cn, .post-title .nav-cn {
  font-family: "PingFang SC", "Microsoft YaHei", sans-serif !important; 
  font-size: 3.2rem !important; font-weight: 700 !important; display: inline-block; margin-right: 15px;
  background: var(--dawn-gradient) !important;
  -webkit-background-clip: text !important;
  -webkit-text-fill-color: transparent !important;
  background-clip: text !important;
  color: var(--global-theme-color); 
}

/* 3.2 æ ‡é¢˜ä¸­çš„è‹±æ–‡ (å°è–‡ä½“ + æ­£æ–‡è‰²) */
header .post-title .nav-en, .post-title .nav-en {
  font-family: "ZCOOL XiaoWei", serif !important; 
  font-size: 2.8rem !important; font-weight: 400 !important;
  color: var(--global-text-color) !important; letter-spacing: 1px !important;
  text-transform: uppercase; vertical-align: middle;            
}

/* ==========================================================================
   4. åŒè¯­å¯¼èˆªæ 
   ========================================================================== */
.navbar-nav .nav-item .nav-link { display: flex !important; flex-direction: column; align-items: center; line-height: 1.2 !important; }
.navbar-nav .nav-cn { font-family: "PingFang SC", "Microsoft YaHei", sans-serif !important; font-size: 1.1rem; font-weight: 700; display: block; }
.navbar-nav .nav-en { font-family: -apple-system, sans-serif !important; font-size: 0.65rem; text-transform: uppercase; font-weight: 600; opacity: 0.7; letter-spacing: 1px; margin-top: -2px; }

/* ==========================================================================
   5. ç¤¾äº¤å›¾æ ‡
   ========================================================================== */
.social .contact-icons { font-size: 1.8rem !important; display: flex; justify-content: center; gap: 1.2rem; margin-top: 2rem; }
.social .contact-icons img { width: 32px !important; height: 32px !important; margin: 0 !important; border-radius: 4px; box-shadow: none !important; filter: none !important; }
.social .contact-icons a:hover { transform: scale(1.15); color: var(--global-theme-color) !important; }
blockquote { background: var(--global-bg-color); border-left: 5px solid var(--global-theme-color); margin: 1.5em 0; padding: 1em; font-size: 1.1rem; border-radius: 8px; p { margin-bottom: 0; } }

/* ==========================================================================
   6. PEOPLE PAGE STYLES
   ========================================================================== */
.people-profile { width: 30% !important; max-width: 200px !important; min-width: 150px !important; margin-bottom: 20px !important; }
.people-profile img { width: 100% !important; border-radius: 8px !important; box-shadow: 0 4px 10px rgba(0,0,0,0.1) !important; }
.people-profile .more-info { font-size: 0.85rem !important; line-height: 1.4 !important; margin-top: 10px !important; color: #666; }

/* =======================================================
   7. COURSE PAGE CARD STYLES (åŒè¯­æ ‡é¢˜ä¸å…¨æ ‡ç­¾ä½“ç³»)
   ======================================================= */

/* 7.1 ä¸­æ–‡ä¸»æ ‡é¢˜ï¼šæ¸å˜ + ç²—ä½“ */
.course-main-title {
  display: block; font-family: "PingFang SC", "Microsoft YaHei", sans-serif !important;
  font-weight: 700 !important; font-size: 1.8rem !important; line-height: 1.2 !important; margin-bottom: 6px !important;
  background: var(--dawn-gradient) !important;
  -webkit-background-clip: text !important;
  -webkit-text-fill-color: transparent !important;
  background-clip: text !important;
}

/* 7.2 è‹±æ–‡å‰¯æ ‡é¢˜ï¼šå°è–‡å­—ä½“ + è¾ƒå°å­—å· */
.course-sub-title {
  display: block; font-family: "ZCOOL XiaoWei", serif !important; 
  font-weight: 400 !important; font-size: 1.1rem !important; line-height: 1.4 !important;
  color: var(--course-sub-color) !important; letter-spacing: 0.5px;
}

/* 7.3 å…¨æ ‡ç­¾ä½“ç³»åŸºç¡€æ ·å¼ */
.course-tag-base {
  display: inline-block; padding: 5px 14px; border-radius: 8px;
  font-size: 0.8rem; font-weight: 700; color: #fff !important; line-height: 1.4;
  margin-right: 12px; margin-bottom: 10px; vertical-align: middle;
  box-shadow: 0 2px 5px rgba(0,0,0,0.15);
}
.course-tag-base i { margin-right: 8px !important; font-size: 0.9em; }

/* --- æ ‡ç­¾é¢œè‰²å®šä¹‰ --- */
.tag-instructor { background-color: #003153; }
.tag-id { background-color: #6610f2; }
.tag-level { background-color: #0f766e; }
.tag-term { background-color: #d97706; }    /* ç¥ç€è‰² */
.tag-location { background-color: #475569; } /* çŸ³æ¿ç° */
.tag-time { background-color: #2563eb; }     /* è“è‰² */

/* Dark Mode æ ‡ç­¾é¢œè‰²é€‚é… */
body.dark, body.dark-mode, html[data-theme="dark"] {
  .tag-instructor { background-color: #FF6699 !important; }
  .tag-id { background-color: #8d50f5 !important; }
  .tag-level { background-color: #14b8a6 !important; color: #fff !important; }
  .tag-term { background-color: #f59e0b !important; }
  .tag-location { background-color: #94a3b8 !important; }
  .tag-time { background-color: #60a5fa !important; }
}

/* ==========================================================================
   8. BIBLIOGRAPHY STYLES (å‚è€ƒæ–‡çŒ®åˆ†åŒºç¼å¸¦)
   ========================================================================== */
body:not(.dark):not(.dark-mode) .bibliography .abbr abbr,
body:not(.dark):not(.dark-mode) .bibliography .abbr a,
body:not(.dark):not(.dark-mode) .bibliography .abbr .badge {
  color: #003153 !important; background-color: #e6f0f5 !important; border: 1px solid #003153 !important; box-shadow: none !important; opacity: 1 !important; 
}
body.dark .bibliography .abbr abbr, body.dark .bibliography .abbr a, body.dark .bibliography .abbr .badge,
body.dark-mode .bibliography .abbr abbr, body.dark-mode .bibliography .abbr a, body.dark-mode .bibliography .abbr .badge {
  color: #FF6699 !important; background-color: #2d2d2d !important; border: 1px solid #FF6699 !important; box-shadow: none !important;
}

/* =======================================================
   9. COURSE DETAIL FIXES (å¸ƒå±€ä¸è¡¨æ ¼ä¿®å¤)
   ======================================================= */

/* --- A. å½»åº•å»æ‰è¾¹æ¡†å’ŒèƒŒæ™¯æ¡† (å®ç°é€æ˜æ— ç¼æ„Ÿ) --- */
.course-info, .course-info-tags {
  background-color: transparent !important;
  border: none !important;
  box-shadow: none !important;
  padding: 0 !important;
  margin-top: 1.5rem;
}

/* --- B. è¯¾ç¨‹è¡¨é“¾æ¥ (æ¨±èŠ±ç²‰ä¿®å¤) --- */
.schedule-materials a {
  color: #003153 !important; text-decoration: none;
  border-bottom: 1px dotted #003153; transition: all 0.2s;
}

/* Dark Mode å¼ºåˆ¶æ¨±èŠ±ç²‰ */
body.dark, body.dark-mode, html[data-theme="dark"] {
  .schedule-materials a {
    color: #FF9EBF !important; /* âœ… å…³é”®ä¿®å¤ï¼šæ¨±èŠ±ç²‰ */
    border-bottom-color: #FF9EBF !important;
  }
  .schedule-materials a:hover {
    color: #FF6699 !important;
    background-color: rgba(255, 102, 153, 0.1);
  }
}

/* --- C. è¡¨æ ¼æ ·å¼ (ä¿æŒé€æ˜ä¸å¯¹é½) --- */
.course table { width: 100%; border-collapse: collapse; background: transparent !important; border: none !important; }
.course table th { background: transparent !important; border-bottom: 2px solid var(--global-theme-color) !important; padding: 1rem 0.5rem !important; }
.course table td { background: transparent !important; border-bottom: 1px solid rgba(0,0,0,0.05) !important; padding: 1.2rem 0.5rem !important; }
.course table th:first-child, .course table td:first-child { text-align: center; width: 60px; }

/* Dark Mode è¡¨æ ¼è‰²å½©é€‚é… */
body.dark, body.dark-mode, html[data-theme="dark"] {
  .course table th { border-bottom-color: #FF9EBF !important; color: #FF9EBF !important; }
  .course table td { border-bottom-color: rgba(255,255,255,0.1) !important; color: #E0E0E0 !important; }
  .course table .fw-bold { color: #fff !important; }
}

/* =======================================================
   10. HOMEPAGE LANGUAGE SWITCHER (ä¸»é¡µè¯­è¨€åˆ‡æ¢å¼€å…³ - ä¿®å¤ç‰ˆ)
   ======================================================= */

/* --- å®¹å™¨å¸ƒå±€ --- */
.lang-switch-container {
  display: flex; align-items: center; justify-content: flex-end;
  gap: 12px; margin-bottom: 2.5rem;
  font-family: -apple-system, sans-serif;
}
.lang-label { font-size: 0.8rem; font-weight: 700; opacity: 0.5; transition: 0.3s; }

/* --- å¼€å…³æŒ‰é’®æœ¬ä½“ --- */
.switch { position: relative; display: inline-block; width: 44px; height: 22px; }
.switch input { opacity: 0; width: 0; height: 0; }
.slider {
  position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0;
  background-color: #e0e0e0; transition: .4s; border-radius: 34px;
}
.slider:before {
  position: absolute; content: ""; height: 16px; width: 16px; left: 3px; bottom: 3px;
  background-color: white; transition: .4s; border-radius: 50%;
  box-shadow: 0 2px 4px rgba(0,0,0,0.2);
}

/* â˜€ï¸ Light Mode: é€‰ä¸­å˜æ·±è“ */
input:checked + .slider { background-color: #003153; }
input:checked + .slider:before { transform: translateX(22px); }

/* ğŸŒ™ Dark Mode: é€‰ä¸­å˜æ¨±èŠ±ç²‰ (åŠ å¼ºæƒé‡) */
body.dark .slider, body.dark-mode .slider, html[data-theme="dark"] .slider { 
  background-color: #444 !important; 
}

/* ä½¿ç”¨å¤šé‡é€‰æ‹©å™¨ + !important ç¡®ä¿ç²‰è‰²ç”Ÿæ•ˆ */
body.dark input:checked + .slider, 
body.dark-mode input:checked + .slider,
html[data-theme="dark"] input:checked + .slider {
  background-color: #FF3377 !important; /* âœ… å¼ºåˆ¶å˜ç²‰ */
  box-shadow: 0 0 12px rgba(255, 51, 119, 0.6) !important; /* âœ… å¼ºåˆ¶å‘å…‰ */
}

/* --- å†…å®¹æ˜¾ç¤º/éšè—é€»è¾‘ (å®‰å…¨æ¨¡å¼) --- */

/* 1. é»˜è®¤çŠ¶æ€ï¼šå¦‚æœä¸åŠ æ§åˆ¶ç±»ï¼Œé»˜è®¤éƒ½æ˜¾ç¤º(é˜²æ­¢å†…å®¹ä¸¢å¤±)ï¼Œæˆ–è€…ä¾èµ– JS æ§åˆ¶ */
.lang-cn, .lang-en { display: none; opacity: 0; transition: opacity 0.4s ease; }

/* 2. æ¿€æ´»ä¸­æ–‡ */
.show-cn .lang-cn { display: block; opacity: 1; animation: fadeIn 0.5s forwards; }
.show-cn .lang-en { display: none; }

/* 3. æ¿€æ´»è‹±æ–‡ */
.show-en .lang-en { display: block; opacity: 1; animation: fadeIn 0.5s forwards; }
.show-en .lang-cn { display: none; }

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(5px); }
  to { opacity: 1; transform: translateY(0); }
}
