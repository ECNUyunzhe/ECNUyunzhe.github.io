/*******************************************************************************
 * Typography styles: Headings, text, links, tables, blockquotes
 * DAWN Lab Final V7: 黎明光感终极版 (含课程双语卡片适配)
 ******************************************************************************/

@use "variables" as v;

/* ==========================================================================
   1. 核心正文排版
   ========================================================================== */
body, p, li, span, div, em, strong {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "PingFang SC", "Microsoft YaHei", Arial, sans-serif !important;
  line-height: 1.8 !important;       
  letter-spacing: -0.015em !important; 
  color: var(--global-text-color);
}

/* ==========================================================================
   2. 全局标题体系
   ========================================================================== */
h1, h2, h3, h4, h6, .navbar-brand, .site-title {
  font-family: "ZCOOL XiaoWei", "Noto Sans SC", serif !important;
  font-weight: 400 !important;
  color: var(--global-text-color);
  line-height: 1.3 !important;
  letter-spacing: -0.025em !important;
}

/* ⚠️ 核心修复：普通标题 (防止影响到双语课程卡片) */
/* 我们把渐变色逻辑移动到具体的类中，避免全局 h5 冲突 */
h5, .card-title {
  font-family: -apple-system, BlinkMacSystemFont, "Microsoft YaHei", sans-serif !important; 
  font-weight: 700 !important;       
  font-size: 1.5rem !important;
  color: var(--global-theme-color); /* 默认兜底 */
}

/* 链接样式 */
a, table.table a {
  color: var(--global-theme-color);
  transition: all 0.2s ease;
  &:hover {
    color: var(--global-hover-color);
    text-decoration: underline;
  }
}

/* ==========================================================================
   3. 页面大标题美化 (Tab 页点开后的 Title & 首页 Title)
   ========================================================================== */
header .post-title, 
.post-title {
  margin-top: 2rem !important;
  margin-bottom: 2rem !important;
  display: block;
}

/* 3.1 标题中的中文 (如“破晓”、“成果”) */
header .post-title .nav-cn,
.post-title .nav-cn {
  font-family: "PingFang SC", "Microsoft YaHei", sans-serif !important; 
  font-size: 3.2rem !important;      
  font-weight: 700 !important;       
  display: inline-block;
  margin-right: 15px;
  
  /* ✅ Light Mode 渐变: 左下->右上 (45deg) */
  /* 颜色：深普鲁士蓝(#003153) -> 极亮天蓝(#4FACFE) */
  background: linear-gradient(45deg, #003153 0%, #4FACFE 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  color: #003153; 
}

/* ✅ Dark Mode 适配 (强力覆盖) */
body.dark header .post-title .nav-cn,
body.dark .post-title .nav-cn,
body.dark-mode header .post-title .nav-cn,
body.dark-mode .post-title .nav-cn {
  /* Dark Mode 渐变: 热粉(#FF3377) -> 极亮樱花白(#FFF0F5) */
  background: linear-gradient(45deg, #FF3377 0%, #FFF0F5 100%) !important;
  -webkit-background-clip: text !important;
  -webkit-text-fill-color: transparent !important;
  background-clip: text !important;
  color: #FF3377 !important;
}

/* 3.2 标题中的英文 (如“DAWN”、“PUBLICATIONS”) */
header .post-title .nav-en,
.post-title .nav-en {
  font-family: "ZCOOL XiaoWei", serif !important; 
  font-size: 2.8rem !important;      
  font-weight: 400 !important;
  color: var(--global-text-color) !important; 
  letter-spacing: 1px !important;
  text-transform: uppercase;         
  vertical-align: middle;            
}

/* ==========================================================================
   4. 双语导航栏美化
   ========================================================================== */
.navbar-nav .nav-item .nav-link { display: flex !important; flex-direction: column; align-items: center; line-height: 1.2 !important; }
.navbar-nav .nav-cn { font-family: "PingFang SC", "Microsoft YaHei", sans-serif !important; font-size: 1.1rem; font-weight: 700; display: block; }
.navbar-nav .nav-en { font-family: -apple-system, sans-serif !important; font-size: 0.65rem; text-transform: uppercase; font-weight: 600; opacity: 0.7; letter-spacing: 1px; margin-top: -2px; }

/* ==========================================================================
   5. 社交图标
   ========================================================================== */
.social .contact-icons { font-size: 1.8rem !important; display: flex; justify-content: center; gap: 1.2rem; margin-top: 2rem; }
.social .contact-icons .ai { vertical-align: middle !important; }
.social .contact-icons img { width: 32px !important; height: 32px !important; margin: 0 !important; border-radius: 4px; box-shadow: none !important; filter: none !important; }
.social .contact-icons a:hover { transform: scale(1.15); color: var(--global-theme-color) !important; }
blockquote { background: var(--global-bg-color); border-left: 5px solid var(--global-theme-color); margin: 1.5em 0; padding: 1em; font-size: 1.1rem; border-radius: 8px; p { margin-bottom: 0; } }

/* =======================================================
   6. PEOPLE PAGE STYLES (成员页面)
   ======================================================= */
.people-profile { width: 30% !important; max-width: 200px !important; min-width: 150px !important; margin-bottom: 20px !important; }
.people-profile.float-right { margin-left: 20px !important; }
.people-profile.float-left { margin-right: 20px !important; }
.people-profile img { width: 100% !important; border-radius: 8px !important; box-shadow: 0 4px 10px rgba(0,0,0,0.1) !important; }
.people-profile .more-info { font-size: 0.85rem !important; line-height: 1.4 !important; margin-top: 10px !important; color: #666; }

/* =======================================================
   7. COURSE PAGE CARD STYLES (课程双语卡片增强)
   ======================================================= */

/* 7.1 中文主标题 (渐变、大字号) */
.course-main-title {
  display: block; /* 强制独占一行 */
  font-family: "PingFang SC", "Microsoft YaHei", -apple-system, sans-serif !important;
  font-weight: 700 !important;
  font-size: 1.8rem !important;  
  line-height: 1.3 !important;
  margin-bottom: 4px !important; /* 与英文标题的间距 */

  /* ✅ Light Mode 渐变 */
  background: linear-gradient(45deg, #003153 0%, #4FACFE 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  color: #003153;
}

/* ✅ Dark Mode 下的中文主标题 (粉色渐变) */
body.dark .course-main-title,
body.dark-mode .course-main-title {
  background: linear-gradient(45deg, #FF3377 0%, #FFF0F5 100%) !important;
  -webkit-background-clip: text !important;
  -webkit-text-fill-color: transparent !important;
  background-clip: text !important;
  color: #FF3377 !important;
}

/* 7.2 英文副标题 (灰色、小字号、无渐变) */
.course-sub-title {
  display: block; /* 强制独占一行，位于中文下方 */
  font-family: -apple-system, "Segoe UI", Roboto, sans-serif !important;
  font-weight: 500 !important;
  font-size: 1.1rem !important; /* 字体小一点 */
  line-height: 1.4 !important;
  
  /* 颜色：使用半透明正文色，在深色模式下自动变浅灰，浅色模式下变深灰 */
  opacity: 0.7; 
  color: var(--global-text-color) !important;
}

/* 7.3 课程编号 (位于授课人旁边) */
.course-id-tag {
  display: inline-block;
  margin-left: 10px;
  padding: 2px 8px;
  background-color: rgba(0,0,0,0.05);
  border-radius: 4px;
  font-family: "JetBrains Mono", monospace;
  font-size: 0.85rem;
  color: var(--global-text-color);
  opacity: 0.8;
}
body.dark .course-id-tag,
body.dark-mode .course-id-tag {
  background-color: rgba(255,255,255,0.1);
}

/* =======================================================
   BIBLIOGRAPHY ABBR RIBBON STYLES (强制覆盖版 - 纯色增强)
   ======================================================= */
/* Light Mode */
body:not(.dark):not(.dark-mode) .bibliography .abbr abbr,
body:not(.dark):not(.dark-mode) .bibliography .abbr a,
body:not(.dark):not(.dark-mode) .bibliography .abbr .badge {
  color: #003153 !important;       
  background-color: #e6f0f5 !important; 
  border: 1px solid #003153 !important; 
  box-shadow: none !important; opacity: 1 !important; 
}

/* Dark Mode */
body.dark .bibliography .abbr abbr,
body.dark .bibliography .abbr a,
body.dark .bibliography .abbr .badge,
body.dark-mode .bibliography .abbr abbr,
body.dark-mode .bibliography .abbr a,
body.dark-mode .bibliography .abbr .badge {
  color: #FF6699 !important;       
  background-color: #2d2d2d !important; 
  border: 1px solid #FF6699 !important;
  box-shadow: none !important;
}
.bibliography .abbr abbr:hover, .bibliography .abbr a:hover, .bibliography .abbr .badge:hover { opacity: 0.8 !important; }
